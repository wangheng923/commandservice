<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>登录页</title>
    <link href="https://cdn.bootcss.com/iview/2.13.1/styles/iview.css" rel="stylesheet">
    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
    <script src="./js/jquery.md5.js"></script>
    <script src="https://cdn.bootcss.com/vue/2.5.17-beta.0/vue.js"></script>
    <script src="https://cdn.bootcss.com/iview/2.13.1/iview.min.js"></script>
    <script src="https://cdn.bootcss.com/vue-router/3.0.1/vue-router.min.js"></script>
</head>
<body>
<div id="app">
    <i-form ref="formInline" :model="formInline" :rules="ruleInline" inline>
        <i-form-item prop="user">
            <i-input type="text" v-model="formInline.user" placeholder="Username">
                <i-icon type="ios-person-outline" slot="prepend"></i-icon>
            </i-input>
        </i-form-item>
        <i-form-item prop="password">
            <i-input type="password" v-model="formInline.password" placeholder="Password">
                <i-icon type="ios-locked-outline" slot="prepend"></i-icon>
            </i-input>
        </i-form-item>
        <i-form-item>
            <i-button type="primary" @click="reset('formInline')">重置</i-button>
            <i-button type="primary" :loading="loading2" @click="toLoading2">
                <span v-if="!loading2">登录</span>
                <span v-else>Loading...</span>
            </i-button>
        </i-form-item>
    </i-form>
</div>

<script>
    Vue.use(new VueRouter());

    var app = new Vue({
        el: "#app",
        data: {
            loading2: false,
            formInline: {
                user: '1',
                password: ''
            },
            ruleInline: {
                user: [
                    {required: true, message: 'Please fill in the user name', trigger: 'blur'}
                ],
                password: [
                    {required: true, message: 'Please fill in the password.', trigger: 'blur'},
                    {type: 'string', min: 6, message: 'The password length cannot be less than 6 bits', trigger: 'blur'}
                ]
            }
        },
        methods: {
            reset: function (name) {
                this.$refs[name].resetFields();
            },
            handleSubmit: function (name) {
                this.$refs[name].validate(function (valid) {
                    if (valid) {
                        this.$Message.success('Success!');
                    } else {
                        this.$Message.error('Fail!');
                    }
                })
            },
            toLoading2: function () {
                this.loading2 = true;
            }
        }
    });


</script>
</body>
</html>